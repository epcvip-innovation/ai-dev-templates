# Railway Configuration - Python FastAPI (RAILPACK)
# Modern builder with 77% smaller images and better caching
#
# Usage:
# 1. Copy to your project root as railway.toml
# 2. Update startCommand if needed
# 3. Adjust healthcheckTimeout based on your app's startup time
# 4. Commit and push to deploy

[build]
builder = "RAILPACK"

[deploy]
# Update main:app to match your app structure
startCommand = "uvicorn main:app --host 0.0.0.0 --port $PORT --log-level info"

# Health check endpoint (must return 200 OK)
healthcheckPath = "/health"
healthcheckTimeout = 60  # Seconds to wait for health check

# Restart policy (RAILPACK uses uppercase)
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

# Python version auto-detected from:
# - runtime.txt
# - pyproject.toml
# - .python-version
